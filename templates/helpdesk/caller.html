{% extends "base.html" %}

{% block content %}

<div class="bg-white p-3 shadow-sm rounded-sm max-w-5xl mx-auto my-2">
    <div class="flex items-center space-x-2 font-semibold text-gray-900 leading-8">
        <span clas="text-green-500">
            <svg class="h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
        </span>
        <span class="tracking-wide">Caller Details</span>
    </div>
    <div class="text-gray-700">
        <div class="grid md:grid-cols-2 text-sm">
            <div class="grid grid-cols-2">
                <div class="px-4 py-2 font-semibold">Caller Id</div>
                <div class="px-4 py-2">{{caller[0]}}</div>
            </div>
            <div class="grid grid-cols-2">
                <div class="px-4 py-2 font-semibold">Name</div>
                <div class="px-4 py-2">{{caller[1]}}</div>
            </div>

            <div class="grid grid-cols-2">
                <div class="px-4 py-2 font-semibold">Phone Number</div>
                <div class="px-4 py-2">{{caller[2]}}</div>
            </div>
            <div class="grid grid-cols-2">
                <div class="px-4 py-2 font-semibold">Department</div>
                <div class="px-4 py-2">{{caller[3]}}</div>
            </div>
            <div class="grid grid-cols-2">
                <div class="px-4 py-2 font-semibold">Job Title</div>
                <div class="px-4 py-2">{{caller[5]}}</div>
            </div>
            <div class="grid grid-cols-2">
                <div class="px-4 py-2 font-semibold">Service</div>
                <div class="px-4 py-2">{{caller[4]}}</div>
            </div>

        </div>
    </div>
    <div class="mt-5 flex justify-center  w-full">
        <a href="/caller/{{caller[0]}}/problem/add"
            class="mt-4 bg-green-500 text-white py-2 px-6 mx-1 rounded-md hover:bg-green-600 my-5">Add New Hardware
            Problem</a>
        <a href="/caller/{{caller[0]}}/problem/add?type=software"
            class="mt-4 bg-blue-500 text-white py-2 px-6 rounded-md mx-1 hover:bg-blue-600 my-5">Add New Software
            Problem</a>
    </div>

   
</div>


<div class="w-full  max-w-7xl  mb-4 px-4 mx-auto mt-6">
    <div class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded ">
        <div class="rounded-t mb-0 px-4 py-3 border-0">
            <div class="flex flex-wrap items-center">
                <div class="relative w-full px-4 max-w-full flex-grow flex-1">
                    <h3 class="font-semibold text-xl text-blueGray-700">Previous Problems</h3>
                </div>
            </div>
        </div>

        <div class="block w-full overflow-x-auto">
            <table class="items-center bg-transparent w-full border-collapse ">
                <thead>
                    <tr>
                        <th
                            class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-md uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                            Id
                        </th>
                        <th
                            class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-md uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                            Type
                        </th>
                        <th
                            class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-md uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                            Description
                        </th>
                        <th
                            class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-md uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                            Issued To
                        </th>
                        <th
                            class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-md uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                            Status
                        </th>
                        <th
                            class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-md uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">
                            Issued Date
                        </th>
                        <th
                            class="px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-md uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left">

                            View
                        </th>


                    </tr>
                </thead>

                <tbody>
                    {% for problem in problems %}
                    <tr>
                        <th
                            class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-md whitespace-nowrap p-4 text-left text-blueGray-700 ">
                            {{ problem[0]}}
                        </th>
                        <td class="border-t-0 px-6 align-center border-l-0 border-r-0 text-md whitespace-nowrap p-4">

                            {{ problem[13] }}
                        </td>
                        <td class="border-t-0 px-6 align-middle border-l-0 border-r-0 text-md whitespace-nowrap p-4 ">
                            {{ problem[7]}}
                        </td>
                        <td class="border-t-0 px-6 align-center border-l-0 border-r-0 text-md whitespace-nowrap p-4">
                            {{ problem[3]}}
                        </td>
                        <td class="border-t-0 px-6 align-center border-l-0 border-r-0 text-md whitespace-nowrap p-4">

                            {{ problem[6] }}
                        </td>
                        <td class="border-t-0 px-6 align-center border-l-0 border-r-0 text-md whitespace-nowrap p-4">

                            {{ problem[8] | format_datetime }}
                        </td>
                        <td class="border-t-0 px-6 align-center border-l-0 border-r-0 text-md whitespace-nowrap p-4">

                            <a href="/problem/{{problem[0]}}"
                                class="mt-4 bg-blue-500 text-white py-2 px-6 rounded-md mx-1 hover:bg-blue-600 my-5">View</a>
                        </td>
                    </tr>
                    {% endfor %}


                </tbody>

            </table>
        </div>
    </div>
</div>




{% endblock %}